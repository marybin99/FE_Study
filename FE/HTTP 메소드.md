# HTTP 메소드

클라이언트와 서버 사이에 이루어지는 요청(Request)과 응답(Response) 데이터를 전송하는 방식  
서버에 주어진 리소스에 수행하길 원하는 행동, **서버가 수행해야 할 동작을 지정**하는 요청을 보내는 방법  

## GET
> **리소스 조회 메서드 (Read)**  

전달하고 싶은 데이터는 `쿼리스트링`을 통해서 전달  
메시지 바디를 사용해서 데이터를 전달할 수 있지만, 서버에서 따로 구성해야 되기 때문에 지원하지 않는 곳이 많아서 권장 X  
캐싱이 가능

### 정적 데이터 조회
- 이미지, 정적 텍스트 문서 GET
- 쿼리 파라미터 없이 리소스 경로로 단순하게 조회 가능

### 동적 데이터 조회
- 주로 검색, 게시판 목록에서 검색어로 이용
- 쿼리 파라미터 사용해서 데이터를 전달
- 쿼리 파라미터는 `key1=value1&key2=value2` 구조로 되어 있음

### HTML Form 데이터 조회
- HTML Form 태그 문서로 사용자와 UI로 상호작용하여 서버와 통신 
- 전송은 `GET`, `POST`만 지원

## POST
> **전달한 데이터 처리/ 생성 요청 메서드 (Create)**

메시지 바디(body)를 통해 서버로 요청 데이터 전달하면 서버는 요청 데이터를 처리하여 업데이트  
전달된 데이터로 주로 신규 리소스 등록, 프로세스 처리에 사용  
데이터를 GET하는데 JSON으로 조회 데이터를 넘겨야 하는 애매한 경우, `POST` 사용

### JSON 데이터 전송 과정
- 클라이언트는 body에 등록할 회원 정보를 JSON 형태로 만들어 담고 서버로 전송
- 서버에서는 받은 메세지를 분석해 로직대로 처리
- 신규회원에 대한 데이터를 바디에 담아서 클라이언트로 응답
    - Location은 자원이 신규로 생성된 URI 경로를 의미

### HTML Form 데이터 전송
- HTML Form 태그 문서로 사용자와 UI로 상호작용하여 서버와 통신
- 회원 가입, 상품 주문, 데이터 변경에 이용
- HTML Form 전송은 `GET`, `POST`만 지원

### 파일 데이터 전송
- enctype을 `multipart/form-data`로 작성해 해당 폼에 파일이 있다는 것을 표시
- 바이너리 데이터 전송 시 사용
- `multipart/form-data`형식이라면 HTTP 메세지에 임의의 구분자(------XXX)가 Form 데이터간 구분을 지어줌
- 여러 개의 Content-Type에 대한 데이터 전송 가능

## PUT
> **리소스를 대체(수정)하는 메서드 (Update)**

요청 메세지에 리소스가 있으면 덮어쓰고, 없으면 새로 생성  
→ `/members/100` 데이터가 존재하면 기존에 것 완전 대체  
→ `/members/100` 데이터 없으면 대체할게 없어서 새로 생성  
데이터를 대체하기 위해 클라이언트가 리소스의 구체적인 전체 경로를 지정해 보내주어야 함  
→ `POST /members` 멤버 새로 추가
→ `PUT /members/100` 100번째 멤버 수정

### 리소스가 있는 경우
- 100번 유저의 리소스를 교체하겠다는 요청을 보냄
- 기존에 데이터가 있었다면 완전히 대체됨

### 리소스가 없는 경우
- 100번 유저의 리소스를 교체하겠다는 요청을 보냄
- 기존에 데이터가 없다면 POST와 같이 신규로 생성

### 일부 리소스만 변경하길 원하는 경우
- age만 50으로 변경하려고 해당 데이터를 PUT으로 전달
- 기존 데이터가 완전히 대체되어 이름 데이터가 삭제됨 (이때는 `PATCH`메소드를 이용해야 함)
![put](https://github.com/marybin99/CS/assets/110241993/8db1c44a-786d-4970-9148-43da4a818269)

## PATCH
> **리소스 일부 부분을 변경하는 메소드 (Update)**

PATCH를 지원하지 않는 서버에서는 POST 사용 가능

PUT과는 다르게 회원 정보에서 age만 변경됨
![patch](https://github.com/marybin99/CS/assets/110241993/9dc41d80-3389-431f-9097-ed39468f83f3)

## DELETE
> **리소스 제거하는 메소드 (Delete)**

상태코드는 대부분 200을 사용하고 상황에 따라 204 사용

## HEAD
GET과 동일하지만 서버에서 Body를 Return하지 않음  
오직 찾기만 원할 때 사용 (일종의 검사 용도)  
서버의 응답 헤더를 봄으로써 Resource가 수정되었는지 확인 가능  

## TRACE
이 메서드도 일종의 검사용  
서버에 도달했을 때 최종 패킷의 요청 패킷 내용을 응답 받을 수 있음  
최초 Client 요청에는 Body가 포함될 수 없음

## OPTION
예비 요청(Preflight)에 사용되는 HTTP 메소드  
예비 요청이란 본 요청을 하기 전에 안전한지 미리 검사하는 것  
서버의 지원 가능한 HTTP 메서드와 출처를 응답받아 `CORS 정책`을 검사하기 위한 요청
