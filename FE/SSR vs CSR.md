# 서버 사이드 렌더링 vs 클라이언트 사이드 렌더링

## 렌더링
> 요청해서 받은 내용을 브라우저 화면에 표시하는 것   
  서버로부터 받은 내용을 브라우저 화면에 표시하는 것

### 렌더링 과정
- Loader가 서버로부터 정보들을 불러옴
- 파싱을 통해 문서를 DOM 트리로 만듦
- DOM 트리가 구축되는 동안 브라우저는 렌더 트리를 구축
- CSS 설정 / 레이아웃 위치 지정
- 렌더링 트리가 그려짐

렌더링 방식에 따라 서버 사이드 렌더링 / 클라이언트 사이드 렌더링   
<img src="https://github.com/marybin99/CS/assets/110241993/1fb10ee1-eead-4fb2-a4f5-a1beccf3a233" width="500"/>   
<img src="https://github.com/marybin99/CS/assets/110241993/261e8a6e-2854-46c5-ab0a-e6f1fed0ecd2" width="500"/>

## SSR과 CSR의 차이
화면에 보일 페이지의 내용을 어디서 그리는지의 차이
- CSR은 페이지의 내용을 브라우저에서   
  SSR은 서버에서 페이지의 내용을 다 그려서 브라우저로
- CSR의 경우 브라우저는 자바스크립트에 대한 링크가 있는 빈 문서를 제공
  SSR의 경우 브라우저에 대한 서버 응답은 렌더링 준비가 된 HTML 페이지   
  <img src="https://github.com/marybin99/CS/assets/110241993/9f74f325-eb62-483b-a88e-dc4435643fd2" width="500"/>


## 서버 사이드 렌더링 (Server Side Rendering, SSR)
> 요청 시마다 새로고침이 일어나며 <b>페이지를 로딩할 때마다</b> 서버로부터 리소스를 전달받아 해석하고 화면에 렌더링하는 방식   
  모든 템플릿은 서버 연산을 통해서 렌더링하고 완성된 페이지 형태로 응답   
→ SPA에 비해 성능 문제 보임

#### Ex) Next.js

### 장점
  - 검색엔진 최적화(SEO) 가능
    > SEO란 검색했을 때 결과가 사용자에게 많이 노출될 수 있도록 최적화하는 기법
  - 빠른 페이지 렌더링
    > 서버에서 미리 그려서 브라우저로 보내주기 때문에 페이지를 그리는 시간이 단축됨   
      페이지 구성속도는 느리지만 전체적으로 사용자에게 보여주는 컨텐츠 구성이 완료되는 시점은 빨라짐
  - 서버 따로, 클라이언트 따로 작성하던 코드가 하나로 합쳐짐

### 단점
  - 사용자와 인터랙션하는 부분
    > 매번 서버에 request 요청을 통해서 해결해야 함   
      페이지 요청마다 페이지 새로고침 발생
  - DOM 조작에 있어서도 요청하는 과정과 엄청난 탐색비용으로 애 먹음
  - 프로젝트의 복잡도
  - 서버 렌더링에 따른 부하 발생
  - 불필요한 인터넷 대역폭 소모

## 클라이언트 사이드 렌더링 (Client Side Rendering, CSR)

### SPA (Single Page web Application)
> 브라우저에 로드되고 난 뒤에 페이지 전체를 서버에 요청하는 것이 아니라 최초 한 번 페이지 전체를 로딩한 이후부터는 데이터만 변경하여 사용할 수 있는 웹 어플리케이션

- 트래픽을 감소시키고 사용자에게 더 나은 경험 제공
- 서버 : 단지 JSON 파일만 보내주는 역할   
  클라이언트 측 자바스크립트 : HTML 그리는 역할
- (반) 클라이언트 쪽이 점점 무거워져 반대로 View만 관리하자는 철학으로 `React` 등장

#### Ex) React, Vue, Angular

### 장점
  - 빠른 인터랙션 기대
    > 사용자의 행동에 따라 필요한 부분만 다시 읽어들이기 때문에 서버 측에서 렌더링하여 전체 페이지를 다시 읽어들이는 것보다 빠른 인터랙션 기대 가능   
    → 필요한 부분만 리로딩없이 서버로부터 받아서 화면 갱신
  - 일관성있는 코드 작성 가능
    > 서버 사이드 렌더링을 한다해도 Ajax 기능을 위해 클라이언트 렌더링 요소가 포함될 수 밖에 없음.   
    → 클라이언트 측에서 렌더링을 하게 되면 서버 사이드 렌더링이 따로 필요없음

### 단점
  - 초기 구동 속도가 느리다
    > 페이지를 읽어들이는 시간 + 자바스크립트를 읽어들이는 시간 + 자바스크립트가 화면을 그리는 시간 + (웹 서버에 콘텐츠 데이터 가져오는 시간)
  - 검색 엔진 최적화의 문제가 존재
    > 대부분의 웹 크롤러, 봇들은 자바스크립트 파일 실행 못 시킴.   
    → HTML에서만 콘텐츠를 수집하게 되고 클라이언트 사이드 렌더링되는 페이지를 빈 페이지로 인식
  - 보안 문제
    > 서버 사이드 렌더링에서는 사용자에 대한 정보를 서버 측에서 세션으로 관리
    → 클라이언트 측에는 쿠키말고는 사용자에 대한 정보를 저장할 공간이 마땅치 않음
